"use strict";(self.webpackChunkenchird_wiki=self.webpackChunkenchird_wiki||[]).push([[9066],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return m}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=r.createContext({}),l=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=l(e.components);return r.createElement(u.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,u=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),p=l(n),m=a,g=p["".concat(u,".").concat(m)]||p[m]||c[m]||o;return n?r.createElement(g,s(s({ref:t},d),{},{components:n})):r.createElement(g,s({ref:t},d))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,s=new Array(o);s[0]=p;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var l=2;l<o;l++)s[l]=n[l];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},848:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return u},metadata:function(){return l},assets:function(){return d},toc:function(){return c},default:function(){return m}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),s=["components"],i={sidebar_position:6,title:"State management"},u="State management",l={unversionedId:"nudle/desktop/state-management",id:"nudle/desktop/state-management",title:"State management",description:"Nudle uses Vuex for state management, by using a single state tree, all states of Nudle are contained inside one big object. Before you continue reading this, We recommend you go through Vuex's documentation first.",source:"@site/docs/nudle/desktop/state-management.md",sourceDirName:"nudle/desktop",slug:"/nudle/desktop/state-management",permalink:"/enchird-wiki/docs/nudle/desktop/state-management",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6,title:"State management"},sidebar:"tutorialSidebar",previous:{title:"The start up process",permalink:"/enchird-wiki/docs/nudle/desktop/startup"},next:{title:"Services",permalink:"/enchird-wiki/docs/nudle/desktop/services"}},d={},c=[{value:"Creating modules",id:"creating-modules",level:2},{value:"Customer module example",id:"customer-module-example",level:3},{value:"Dispatching actions",id:"dispatching-actions",level:3},{value:"Getting store data as a computed property",id:"getting-store-data-as-a-computed-property",level:3}],p={toc:c};function m(e){var t=e.components,n=(0,a.Z)(e,s);return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"state-management"},"State management"),(0,o.kt)("p",null,"Nudle uses ",(0,o.kt)("a",{parentName:"p",href:"https://vuex.vuejs.org/guide/"},"Vuex")," for state management, by using a single state tree, all states of Nudle are contained inside one big object. Before you continue reading this, We recommend you go through ",(0,o.kt)("a",{parentName:"p",href:"https://vuex.vuejs.org/guide/"},"Vuex's documentation")," first."),(0,o.kt)("h2",{id:"creating-modules"},"Creating modules"),(0,o.kt)("p",null,"We divide our stores into modules. modules contain their own state, mutations, actions and getters. We have users module, inventory module etc. Suppose we introduce customers to Nudle, we will have a customers module like the example below:"),(0,o.kt)("h3",{id:"customer-module-example"},"Customer module example"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"title=src/renderer/store/modules/customers.ts",title:"src/renderer/store/modules/customers.ts"},"export default {\n    state: {\n        data: []\n    },\n    mutations: {\n        ...\n        ADD_CUSTOMER (state, user) {\n            state.data = [{id: state.data.length + 1, ...user}, ...state.data]\n        }\n    },\n    actions: {\n        addCustomer ({commit}) {\n            return new Promise((resolve, reject) => {\n                DB.addCustomer()\n                    .then((response) => {\n                        // add to db then mutate state, response has the _id field\n                        commit('ADD_CUSTOMER', response);\n                        resolve(response);\n                    })\n                    .catch((e) => reject(e));\n            });\n        }\n    }\n}\n")),(0,o.kt)("p",null,"When you create you module, import in the modules index file ",(0,o.kt)("inlineCode",{parentName:"p"},"/renderer/store/modules/index.ts"),". Learn more about ",(0,o.kt)("a",{parentName:"p",href:"https://vuex.vuejs.org/guide/modules.html"},"Vuex modules")),(0,o.kt)("h3",{id:"dispatching-actions"},"Dispatching actions"),(0,o.kt)("p",null,"Vuex is already provided to the vue app and has been globally injected, you don't inject it to your components"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"this.$store.dispatch('addCustomer')\n    .then((customers) => {\n      console.log(customers);\n})\n")),(0,o.kt)("h3",{id:"getting-store-data-as-a-computed-property"},"Getting store data as a computed property"),(0,o.kt)("p",null,"Vue computed properties enable you to create a property that can be used to modify, manipulate, and display data within your components in a readable and efficient manner."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"\n// Get settings state as a computed property\nexport default defineComponent({\n    ...\n    computed: {\n      settings: function () {\n        return this.$store.state.settings.data\n      }\n    },\n});\n\n// In your template\n<p> {{ settings.company.name }}</p>\n\n")),(0,o.kt)("p",null,"Learn more about ",(0,o.kt)("a",{parentName:"p",href:"https://vuejs.org/guide/essentials/computed.html"},"vue computed properties")))}m.isMDXComponent=!0}}]);